<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Our Little Festival World üéÑ</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Indie+Flower&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ffcadf, #f3d9ff);
      min-height: 100vh;
      overflow-x: hidden;
      color: #4a2c3a;
      transition: background 0.8s, color 0.8s;
    }

    body.night {
      background: linear-gradient(135deg, #1f1235, #3b1d5a);
      color: #f6eaff;
    }

    header { text-align: center; padding: 70px 20px 30px; position: relative; z-index: 2; }

    .tree { position: fixed; bottom: -20px; right: -20px; font-size: 200px; opacity: 0.18; cursor: pointer; z-index: 1; }

    .countdown { margin: 30px auto 10px; background: rgba(255,255,255,0.75); padding: 14px 26px; border-radius: 24px; display: inline-block; font-weight: 500; }
    body.night .countdown { background: rgba(0,0,0,0.35); }

    .controls { display: flex; justify-content: center; gap: 14px; margin-top: 10px; flex-wrap: wrap; }
    .btn { background: #fff; border-radius: 22px; padding: 8px 18px; cursor: pointer; font-size: 0.85rem; box-shadow: 0 6px 18px rgba(0,0,0,0.15); user-select: none; transition: transform 0.2s; }
    .btn:hover { transform: scale(1.05); }
    body.night .btn { background: #2a1746; color: #fff; }

    .gifts { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; padding: 40px; max-width: 900px; margin: auto; position: relative; z-index: 2; }

    .gift { background: linear-gradient(135deg, #ff9ecf, #d5b6ff); border-radius: 22px; padding: 40px 20px; text-align: center; cursor: pointer; box-shadow: 0 12px 28px rgba(0,0,0,0.18); transition: transform 0.3s ease; }
    .gift:hover { transform: translateY(-6px) scale(1.03); }
    .locked { opacity: 0.6; cursor: not-allowed; }

    .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.55); display: none; align-items: center; justify-content: center; z-index: 10; }

    .note { background: #fffaf3; padding: 32px; border-radius: 14px; max-width: 420px; font-family: 'Indie Flower', cursive; font-size: 1.25rem; line-height: 1.6; box-shadow: 0 18px 45px rgba(0,0,0,0.35); color: #4a2c3a; position: relative; z-index: 10; }
    body.night .note { background: #2b1745; color: #f6eaff; }

    .close { cursor: pointer; margin-bottom: 10px; }

    .float-up, .fall-down { position: fixed; pointer-events: auto; cursor: pointer; z-index: 3; }
    .float-up { bottom: -10vh; animation: floatUp linear infinite; }
    .fall-down { top: -10vh; animation: fallDown linear infinite; }

    @keyframes floatUp { to { transform: translateY(-120vh); } }
    @keyframes fallDown { to { transform: translateY(120vh); } }

    @keyframes treeBlink {
      0%,100% { filter: drop-shadow(0 0 6px rgba(255,120,180,0.2)); }
      50% { filter: drop-shadow(0 0 22px rgba(255,120,180,0.9)); }
    }

    .emoji-bubble {
      position: fixed;
      background: rgba(255,255,255,0.95);
      padding: 10px 14px;
      border-radius: 16px;
      font-size: 0.9rem;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      max-width: 220px;
      text-align: center;
      z-index: 20;
      animation: bubblePop 2.5s ease forwards;
      word-wrap: break-word;
    }

    body.night .emoji-bubble { background: rgba(40,20,70,0.95); color: #fff; }

    @keyframes bubblePop {
      0% { transform: scale(0.6); opacity: 0; }
      10% { transform: scale(1); opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; transform: translateY(-10px); }
    }

    @keyframes sunGlow {
      0%,100% { filter: drop-shadow(0 0 18px rgba(255,200,80,0.6)); }
      50% { filter: drop-shadow(0 0 35px rgba(255,200,80,1)); }
    }

    @keyframes moonGlow {
      0%,100% { filter: drop-shadow(0 0 22px rgba(200,180,255,0.6)); }
      50% { filter: drop-shadow(0 0 40px rgba(220,200,255,1)); }
    }

    @keyframes moonTwinkle {
      0%,100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    @keyframes heartBurst {
      from { transform: translate(-50%, -50%) scale(0.2); opacity: 1; }
      to { transform: translate(var(--x), var(--y)) scale(1); opacity: 0; }
    }
  </style>
</head>
<body>

  <div id="sun" style="position:fixed;top:-20px;left:-20px;font-size:160px;opacity:0.22;z-index:1;filter:drop-shadow(0 0 25px rgba(255,200,80,0.8));animation:sunGlow 3s ease-in-out infinite">‚òÄÔ∏è</div>
  <div id="moon" style="display:none;position:fixed;top:-20px;right:-20px;font-size:160px;opacity:0.22;z-index:1;filter:drop-shadow(0 0 30px rgba(200,180,255,0.9));animation:moonGlow 3.5s ease-in-out infinite, moonTwinkle 2s ease-in-out infinite">üåô</div>

  <div class="tree" id="tree">üéÑ</div>
  <div id="snowman" style="position:fixed;bottom:-20px;left:-10px;font-size:150px;opacity:0.22;z-index:1;filter:drop-shadow(0 0 20px rgba(180,220,255,0.8));animation:moonGlow 4s ease-in-out infinite">‚õÑÔ∏è</div>

  <header>
    <h1>Our Little Festival World üéÑ</h1>
    <p id="subtitle">A tiny pink world full of love, lights & you üíï</p>
    <div class="countdown" id="countdown"></div>
    <div class="controls">
      <div class="btn" id="musicBtn">üéµ Play music</div>
      <div class="btn" id="modeBtn">üåû / üåô</div>
    </div>
  </header>

  <section class="gifts">
    <div class="gift" data-note="0">üéÅ EveryDay Thoughts of You!</div>
    <div class="gift" data-note="1">üéÅ Appreciation Thoughts for You!</div>
    <div class="gift" data-note="2">üéÅ For my Lovely Sweetie!</div>
    <div class="gift locked" id="lockedGift">üîí Christmas Letter<br><small id="lockTimer"></small></div>
    <div class="gift locked" id="lockedPoem">üîí Christmas Poem<br><small id="poemTimer"></small></div>
  </section>

  <div class="overlay" id="overlay">
    <div class="note">
      <div class="close" id="closeNote">‚úï close</div>
      <div id="noteText"></div>
    </div>
  </div>

  <audio id="bgMusic" preload="auto" loop src="sounds/bg-music.mp3"></audio>
  <audio id="paperSound" preload="auto" src="sounds/paper.mp3"></audio>

  <script>
    const notes = [
      "Every day with you feels like a quiet blessing I didn‚Äôt know I needed. Your smile softens my hardest moments, and your presence makes even ordinary days feel special my love. I‚Äôm grateful for you, more than words can explain bb.",
      "Thank you for being patient with me love, for choosing me, and for loving me the way you do. I may not always be perfect, but my feelings for you are always real. I appreciate you so much, You are the bestest person I ever met. I'd love to be in love with you in every lifetime.",
      "I hope you know, You make my heart misbehave in the cutest way and my heart has a very big crush on you just like a big Dinosaur. Rawrrrr!! üéÑ‚ù§Ô∏è"
    ];

    const christmasLetter = `It‚Äôs late and things are quiet right now, and you‚Äôre on my mind again. 
                              After all these years, it still feels nice knowing you‚Äôre there. 
                              You‚Äôve become such a natural part of my life that I don‚Äôt even imagine my days without you anymore.

                              We‚Äôve been through so much together we are growing, learning, messing up, fixing things, and just figuring life out side by side. 
                              What we have now feels real, and I really value that. It‚Äôs not always about big moments or always nice things, it‚Äôs about choosing each other every day, even when things aren‚Äôt perfect.

                              I love how easy it feels with you. The way even simple conversations or quiet moments feel enough. 
                              You understand me without me having to explain much, and that comfort means everything to me.

                              I just wanted to say thank you for staying, for caring, and for being you. 
                              After all this time, my heart still feels safe with you I'm very that our path crossed, I can't imagine where would i have been without you right now.
                              and that‚Äôs something I never take for granted.ü§ç
                              I Love you so much my baby girl.üíñ
                              Merry Christmas! and Happy New Year Darling!üéÑ‚ù§Ô∏è `;
    const christmasPoem = `We always say, I‚Äôm all yours,
but have you ever wondered how?
our souls became intertwined
and promised forever somehow?

And now it‚Äôs Christmas my love,
with you right here by my side.
you‚Äôre the gift I never asked for,
but still my favorite joy and pride.

You give me the world just by staying,
right here, close to me each day.
So I promise you, without a doubt,
I‚Äôll always choose you, come what may.

I don‚Äôt always know the perfect words,
or the right way to say what‚Äôs true.
but through every mood, every storm,
I‚Äôll stay, still loving you.

Because loving you feels like the only life
my heart has ever known.
and I never want to stop loving you,
in every season we‚Äôve grown.

Every memory I hold of you
reminds me how precious you are,
sweet, adorable, sometimes fiery,
yet always my brightest star.

You‚Äôre not just part of my story
you‚Äôre the reason my world shines bright.
My Christmas wish, my gentle warmth,
my forever, and my light. ‚ú®üéÑ`;

    const oneLiners = [
      "I love you so much baby",
      "I miss you so much baby",
      "You are so amazing love",
      "You are so pretty baby",
      "Always keep smiling love",
      "A big Huggie from thousands miles away",
      "You are so adorable",
      "Merry Christmas!",
      "Happy New Year!",
      "I love you so so so much baby!",
      "Mwahh üòò",
      "Love you to the moon and back üåô",
      "You are my sunshine ‚òÄÔ∏è",
      "You make my heart smile ‚ù§Ô∏è",
        "You are my everything üíñ",
        "Forever and always, my love üíï",
        "Love you more than words can say üíò"

    ];

    const dayEmojis = ['‚ù§Ô∏è','üéà','üéÜ','üíñ','‚ú®','üéÅ','üå∏'];
    const nightEmojis = ['‚ùÑÔ∏è','üéÅ','üíñ','üå®','‚òÉÔ∏è','‚õÑÔ∏è','üéÖüèº'];

    const overlay = document.getElementById('overlay');
    const noteText = document.getElementById('noteText');
    const paperSound = document.getElementById('paperSound');
    const music = document.getElementById('bgMusic');
    const countdown = document.getElementById('countdown');
    const poemTimer = document.getElementById('poemTimer');
    const lockTimer = document.getElementById('lockTimer');
    const subtitle = document.getElementById('subtitle');

    function openNote(text, hearts) {
      noteText.innerText = text;
      overlay.style.display = 'flex';
      paperSound.currentTime = 0;
      paperSound.play().catch(()=>{});
      if (hearts) startHeartBurst();
    }

    document.getElementById('closeNote').onclick = () => overlay.style.display = 'none';
    document.querySelectorAll('.gift[data-note]').forEach(g => {
      g.onclick = () => openNote(notes[+g.dataset.note], false);
    });

    document.getElementById('tree').onclick = (ev) => {
      ev.preventDefault();
      showBubble(ev.target, 'Mahal! Merry Christmas! üéÑ‚ù§Ô∏è');
    };

    let playing = false;
    document.getElementById('musicBtn').onclick = async () => {
      music.volume = 0.3;
      if (!playing) await music.play(); else music.pause();
      playing = !playing;
    };

    function clearFloating() {
      document.querySelectorAll('.float-up,.fall-down').forEach(e => e.remove());
    }

    function showBubble(target, text) {
      const bubble = document.createElement('div');
      bubble.className = 'emoji-bubble';
      bubble.innerText = text;
      document.body.appendChild(bubble);

      const rect = target.getBoundingClientRect();
      let x = rect.left + rect.width / 2 - 110;
      let y = rect.top - 80;

      x = Math.max(10, Math.min(window.innerWidth - 230, x));
      y = Math.max(10, y);

      bubble.style.left = x + 'px';
      bubble.style.top = y + 'px';

      setTimeout(() => bubble.remove(), 2500);
    }

    function spawnEmojis(type) {
      clearFloating();
      const emojis = type === 'night' ? nightEmojis : dayEmojis;
      const cls = type === 'night' ? 'fall-down' : 'float-up';

      for (let i = 0; i < 30; i++) {
        const e = document.createElement('div');
        e.className = cls;
        e.innerText = emojis[Math.floor(Math.random()*emojis.length)];
        e.style.left = Math.random()*100 + 'vw';
        e.style.fontSize = 18 + Math.random()*20 + 'px';
        e.style.animationDuration = 6 + Math.random()*8 + 's';

        const handler = (ev) => {
          ev.preventDefault();
          showBubble(e, oneLiners[Math.floor(Math.random()*oneLiners.length)]);
        };

        e.addEventListener('click', handler);
        e.addEventListener('touchstart', handler, { passive: false });
        document.body.appendChild(e);
      }
    }

    document.getElementById('modeBtn').onclick = () => {
      document.body.classList.toggle('night');
      const night = document.body.classList.contains('night');
      document.getElementById('sun').style.display = night ? 'none' : 'block';
      document.getElementById('moon').style.display = night ? 'block' : 'none';
      document.getElementById('tree').style.animation = night ? 'treeBlink 2s infinite' : 'none';
      subtitle.innerText = night ? 'A cozy night full of stars, love & us ‚ú®' : 'A tiny pink world full of love, lights & you üíï';
      spawnEmojis(night ? 'night' : 'day');
    };

    spawnEmojis('day');

    function startHeartBurst() {
      const note = document.querySelector('.note');
      const rect = note.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;
      for (let i = 0; i < 120; i++) {
        const h = document.createElement('div');
        h.innerText = 'üíñ';
        h.style.position = 'fixed';
        h.style.left = cx + 'px';
        h.style.top = cy + 'px';
        h.style.fontSize = 16 + Math.random()*26 + 'px';
        h.style.pointerEvents = 'none';
        h.style.zIndex = 9;
        const angle = Math.random()*Math.PI*2;
        const dist = 200 + Math.random()*300;
        h.style.setProperty('--x', Math.cos(angle)*dist + 'px');
        h.style.setProperty('--y', Math.sin(angle)*dist + 'px');
        h.style.animation = 'heartBurst 1.8s ease-out forwards';
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),2000);
      }
    }

    const christmas = new Date(new Date().getFullYear(), 11, 25, 0, 0, 0);
    // Test Date
    //const christmas = new Date(Date.now() + 5000); // unlocks in 5 seconds
    const lockedGift = document.getElementById('lockedGift');
    const lockedPoem = document.getElementById('lockedPoem');

    function unlockLetter() {
      const name = prompt('Please Enter your First name EXACTLY ( Case Sensitive )üíñ');
      if (name === 'Pauline') openNote(christmasLetter, true);
      else alert('Cutie, Enter name Correctly please üíï');
    }

    function unlockPoem() {
      const name = prompt('Please Enter your First name EXACTLY ( Case Sensitive )üíñ');
      if (name === 'Pauline') openNote(christmasPoem, true);
      else alert('Cutie, Enter name Correctly please üíï');
    }

    setInterval(() => {
      const diff = christmas - new Date();
      if (diff > 0) {
        const d = Math.floor(diff/86400000);
        const h = Math.floor(diff/3600000 % 24);
        const m = Math.floor(diff/60000 % 60);
        countdown.innerText = `${d}d ${h}h ${m}m until Christmas üéÑ`;
        lockTimer.innerText = poemTimer.innerText = `Unlocks in ${d}d ${h}h ${m}m`;
      } else {
        countdown.innerText = 'Merry Christmas üéÖ‚ù§Ô∏è';
        lockTimer.innerText = poemTimer.innerText = 'Unlocked!';
        lockedGift.classList.remove('locked');
        lockedPoem.classList.remove('locked');
        lockedGift.onclick = unlockLetter;
        lockedPoem.onclick = unlockPoem;
      }
    }, 1000);
  </script>
</body>
</html>

